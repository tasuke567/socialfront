<div class="container mx-auto px-4 py-6">
    <h2 class="text-2xl font-bold mb-6">Posts</h2>
  
    <!-- ฟอร์มสร้างโพสต์ -->
    <div class="mb-8 p-6 bg-white shadow-lg rounded-lg max-w-lg mx-auto">
      <textarea
        [(ngModel)]="newPostContent"
        placeholder="What's on your mind?"
        rows="4"
        class="w-full border border-gray-300 rounded-md p-3 mb-4 focus:outline-none focus:ring-2 focus:ring-blue-500"
      ></textarea>
      <button
        (click)="createPost()"
        [disabled]="!newPostContent.trim()"
        class="w-full bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 disabled:bg-gray-400 transition duration-300"
      >
        {{ isEditing ? 'Post' : 'Post' }}
      </button>
    </div>
  
    <!-- แสดงโพสต์ทั้งหมด -->
    <div *ngIf="isLoading" class="text-center text-gray-500 py-4">
      Loading posts...
    </div>
    <div *ngIf="!isLoading && posts.length === 0" class="text-center text-gray-500 py-4">
      No posts found.
    </div>
  
    <div *ngFor="let post of posts" class="bg-white shadow-xl rounded-lg mb-6 p-5 max-w-2xl mx-auto">
      <ng-container *ngIf="post.id === editPostId; else viewMode">
        <!-- โหมดแก้ไข -->
        <textarea
          [(ngModel)]="editPostContent"
          rows="4"
          class="w-full border border-gray-300 rounded-md p-3 mb-4 focus:outline-none focus:ring-2 focus:ring-blue-500"
        ></textarea>
        <button
          (click)="savePost()"
          class="w-full bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition duration-300"
        >
          Save
        </button>
      </ng-container>
  
      <ng-template #viewMode>
        <!-- โหมดดูโพสต์ -->
        <p class="text-gray-800 mb-4 text-lg">{{ post.content }}</p>
        <small class="text-gray-500 text-sm">Posted: {{ post.createdAt }}</small>
        <div class="mt-4 flex justify-between items-center">
          <button
            (click)="editPost(post.id, post.content)"
            class="bg-yellow-500 text-white px-4 py-1 rounded-lg hover:bg-yellow-600 transition duration-200"
          >
            Edit
          </button>
          <button
            (click)="deletePost(post.id)"
            class="bg-red-500 text-white px-4 py-1 rounded-lg hover:bg-red-600 transition duration-200"
          >
            Delete
          </button>
        </div>
      </ng-template>
    </div>
  </div>
  